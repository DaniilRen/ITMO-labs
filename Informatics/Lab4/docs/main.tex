%>>>>>>>>>>>>>>>>>>>>>>>>>> ПЕРЕМЕННЫЕ >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
%>>>>> Информация о кафедре
%\newcommand{\year}{2021 г.}  % Год устанавливается автоматически
\newcommand{\city}{Санкт-Петербург}  %  Футер, нижний колонтитул на титульном листе
\newcommand{\university}{Национальный исследовательский университет ИТМО}  % первая строка
\newcommand{\department}{Факультет программной инженерии и компьютерной техники}  % Вторая строка
\newcommand{\major}{Направление программная инженерия}  % Треьтя строка
% Пусть будет. Проще закоментить лишнее.
\newcommand{\education}{Образовательная программа системное и прикладное программное обеспечение}  % четвертая строка
%\newcommand{\specialization}{}  % пятая строка

%<<<<< Информация о кафедре

%>>>>> Назание работы
\newcommand{\reporttype}{ОТЧЕТ ПО ЛАБОРАТОРНОЙ РАБОТЕ} % тип работы, (главный заголовок титульного листа)
\newcommand{\lab}{Лабораторная работа}          % вид работы
\newcommand{\labnumber}{№ 4}                    % порядковый номер работы
\newcommand{\subject}{Информатика}         % учебный предмет
\newcommand{\labtheme}{Исследование протоколов, форматов обмена информацией и языков разметки документов}            % Тема лабораторной работы
\newcommand{\variant}{№ 129}                % номер варианта работы

\newcommand{\student}{Бых Даниил Максимович}    % определение ФИО студента
\newcommand{\studygroup}{P3109}                 % определение учебной группы
\newcommand{\teacher}{% принимающий
    Малышева Т. А.% ФИО практика
}
%<<<<<<<<<<<<<<<<<<<<<<<<<< ПЕРЕМЕННЫЕ <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<


%>>>>>>>>>>>>>>>>>>>>>> ПРЕАМБУЛА >>>>>>>>>>>>>>>>>>>>>>>>>
\documentclass[14pt,final,oneside]{extreport}% класс документа, характеристики
%>>>>> Разметка документа
\usepackage[a4paper, mag=1000, left=3cm, right=1.5cm, top=2cm, bottom=2cm, headsep=0.7cm, footskip=1cm]{geometry} % По ГОСТу: left>=3cm, right=1cm, top=2cm, bottom=2cm,
\linespread{1} % межстройчный интервал по ГОСТу := 1.5
%<<<<< Разметка документа

\setlength{\parindent}{1.25cm}

%>>>>> babel c языковым пакетом НЕ должны быть первым импортируемым пакетом
\usepackage[utf8]{inputenc}
\usepackage[T1,T2A]{fontenc}
\usepackage[russian]{babel}
% \usepackage{lmodern}
%<<<<<

%\usepackage{cmap} %поиск в pdf

%>>>...>> прочие полезные пакеты
\usepackage{amsmath,amsthm,amssymb}
\usepackage{mathtext}
\usepackage{braket}
\usepackage{indentfirst}
\usepackage{graphicx}
\usepackage{float}
\usepackage{changepage}
\graphicspath{{assets}}
\DeclareGraphicsExtensions{.pdf,.png,.jpg}
%\usepackage{bookmark}

\usepackage[dvipsnames]{xcolor}
\usepackage{hyperref}  % Использование ссылок
\hypersetup{%  % Настройка разметки ссылок
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=magenta,
%pdftitle={Overleaf Example},
%pdfpagemode=FullScreen,
}

\usepackage{diagbox}
\usepackage[letterspace=150]{microtype} % Спэйсинг (межбуквенный интервал для саголовка) \lsstyle
% \usepackage{csvsimple} %импорт содержимого таблицы из csv

%>>> верстка в 2 колонки
\usepackage{multicol} % многоколоночная верстка
\setlength{\columnsep}{.15\textwidth} % определение ширины разделителя между колонками

\usepackage{tikz} % пакет для векторной графики, чтобы рисовать красивый разделитель колонок

%>>>>> Использование листингов
\usepackage{listings}
\usepackage{caption}
\DeclareCaptionFont{white}{\color{white}}
\DeclareCaptionFormat{listing}{\colorbox{gray}{\parbox{\textwidth}{#1#2#3}}}

\captionsetup[lstlisting]{format=listing,labelfont=white,textfont=white} % Настройка вида описаний
\lstset{  % Настройки вида листинга
    inputencoding=utf8, extendedchars=\true, keepspaces = true, % поддержка кириллицы и пробелов в комментариях
    language={},            % выбор языка для подсветки (здесь это Pascal)
    basicstyle=\small\sffamily, % размер и начертание шрифта для подсветки кода
    numbers=left,               % где поставить нумерацию строк (слева\справа)
    numberstyle=\tiny,          % размер шрифта для номеров строк
    stepnumber=1,               % размер шага между двумя номерами строк
    numbersep=5pt,              % как далеко отстоят номера строк от подсвечиваемого кода
    backgroundcolor=\color{white}, % цвет фона подсветки - используем \usepackage{color}
    showspaces=false,           % показывать или нет пробелы специальными отступами
    showstringspaces=false,     % показывать илигнет пробелы в строках
    showtabs=false,             % показывать или нет табуляцию в строках
    frame=single,               % рисовать рамку вокруг кода
    tabsize=2,                  % размер табуляции по умолчанию равен 2 пробелам
    captionpos=t,               % позиция заголовка вверху [t] или внизу [b]
    breaklines=true,            % автоматически переносить строки (да\нет)
    breakatwhitespace=false,    % переносить строки только если есть пробел
    escapeinside={\%*}{*)}      % если нужно добавить комментарии в коде
}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
backgroundcolor=\color{backcolour},
commentstyle=\color{codegreen},
keywordstyle=\color{magenta},
numberstyle=\tiny\color{codegray},
stringstyle=\color{codepurple},
basicstyle=\ttfamily\footnotesize,
breakatwhitespace=false,
breaklines=true,
captionpos=b,
keepspaces=true,
numbers=left,
numbersep=5pt,
showspaces=false,
showstringspaces=false,
showtabs=false,
tabsize=2
}
\lstset{style=mystyle}
%<<<<< Использование листингов


\sloppy % Решение проблем с переносами (с. 119 книга Львовского)
\emergencystretch=25pt


%>>>>>>>>>>>>>>>> ДОПОЛНИТЕЛЬНЫЕ КОМАНДЫ {Для соответствия ГОСТ} >>>>>>>>>>>>>>
%>>>>>> математические функции для удобства
\newcommand{\tx}{\text}
\newcommand{\eps}{\varepsilon}
\renewcommand{\phi}{\varphi}
\newcommand{\limit}{\displaystyle\lim}
\newcommand{\oo}{\infty}
\newcommand{\De}{\Delta}
\newcommand{\cd}{\cdot}
\newcommand{\df}{\partial}
\newcommand{\ndash}{\textendash}
\newcommand{\mdash}{\textemdash}

%>>>>> Аннотирование
\newcommand{\note}[2]{\overbrace{#1}^{#2}}% скобка сверху для комментария
% \overset{}{}% для указания символа над другим смиволом
% \underset{}{}% для указания символа под другим смиволом
%<<<<< Аннотирование

%>>>>>> Матрицы
\DeclareMathOperator{\rank}{rank}
\newcommand{\tvec}[1]{\mathbfit{#1}}% "text vector"
\newcommand{\mtx}[1]{\mathrm{#1}}
\newcommand{\transposed}[1]{{#1}^{\mathrm{T}}}
%>>>>>> Матрицы

%>>>>> Скобки
\newcommand{\lt}{\left}
\newcommand{\rt}{\right}
\newcommand{\la}{\langle}% '<'
\newcommand{\ra}{\rangle}% '>'
\newcommand{\avg}[1]{\langle{#1}\rangle}% '<X>'
%<<<<< Скобки

%>>>>> Дроби
\newcommand{\cf}[2]{\cfrac{#1}{#2}}
\newcommand{\fr}[2]{\frac{#1}{#2}}
%<<<<< Дроби


%>>>>> Стрелки
\newcommand{\Rarr}{\Rightarrow}% ⇒ следствие | лучше использовать \implies
\newcommand{\LRarr}{\Leftrightarrow}% равносильно | лучше  использовать \iff
\newcommand{\rarr}{\xrightarrow{}}% → стрелка вправо
\newcommand{\nwarr}{\nwarrow}% ↖ север-запад стрелка
\newcommand{\nearr}{\nearrow}% ↗ север-восток стрелка
\newcommand{\swarr}{\swarrow}% ↙ юг-запад стрелка
\newcommand{\searr}{\searrow}% ↘ юг-восток стрелка

\newcommand{\raises}{\nwarrow}% возрастает
\newcommand{\increases}{\nwarrow}% возрастает
\newcommand{\falls}{\swarrow}% убывает
\newcommand{\decreases}{\swarrow}% убывает

%{{{
\makeatletter
\newcommand{\impliesby}[2][]{\ext@arrow 0359\Leftrightarrowfill@{#1}{#2}}% следствие с надписью
\makeatother
%}}}

%{{{
\makeatletter
\newcommand{\iffby}[2][]{\ext@arrow 0359\Rightarrowfill@{#1}{#2}}% равносильность с надписью
\makeatother
%}}}
%<<<<< Стрелки

% Функции для удобного описания формул: https://tex.stackexchange.com/questions/95838/how-to-write-a-perfect-equation-parameters-description


%<<<<<< математические функции для удобства
%>>>>>> Стиль текста
\newcommand{\hex}[1]{\texttt{0{\footnotesize{x}}#1}}
\newcommand{\ttt}[1]{\texttt{#1}}
%<<<<<< Стиль текста

\newcommand\Chapter[3]{%
% Принимает 3 аргумента - название главы и дополнительный заголовок и множитель ширины загловка (можно ничего)
\refstepcounter{chapter}%
\chapter*{%
%\hfill % заполнение отступом пространства до заголовка
\begin{minipage}{#3\textwidth} % Можно изменить ширину министраницы (заголовка)
\flushleft % Выранивание заголовка по левому краю параграфа (заголовка)
%\flushright % Выранивание заголовка по правому краю параграфа (заголовка)
\begin{huge}%
% Отключена нумерация глав в тексте:
% \textbf{\chaptername\ \arabic{chapter}\\}
\textbf{#1}% Первый заголовок
\end{huge}%
\\% Перенос сторки
\begin{Huge}
#2% Второй заголовок
\end{Huge}
\end{minipage}
}%
% Отключена нумерация для chapter в toc (table of contents), т.е. Оглавлении (Содержании):
% \addcontentsline{toc}{chapter}{\arabic{chapter}. #1}
% Представление главы в содержании:
\addcontentsline{toc}{chapter}{#1. #2}%
}

\newcommand\Section[1]{
% Принимает 1 аргумент - название секции
\refstepcounter{section}
\section*{%
\raggedright
% Отключена дополнительная нумерация chapter в section в тексте документа:
% \arabic{chapter}.\arabic{section}. #1}
% Отключена любая нумарация section в тексте документа:
\arabic{section}. #1%
}

% Отключена дополнительная нумерация chapter в section в toc (table of contents) Оглавлении (Содержании):
% \addcontentsline{toc}{section}{\arabic{chapter}.\arabic{section}. #1}
\addcontentsline{toc}{section}{\arabic{section}. #1}
}


\newcommand\Subsection[1]{
% Принимает 1 аргумент - название подсекции
\refstepcounter{subsection}
\subsection*{%
\raggedright%
% Отключена дополнительная нумерация chapter в section в тексте документа (можно добавить отступ с помощью \hspace*{12pt}):
% \arabic{chapter}.\arabic{section}.\arabic{subsection}. #1}
\arabic{section}. \arabic{subsection}. #1
}
% Отключена дополнительная нумерация chapter в section в Оглавлении (Содержании):
%\addcontentsline{toc}{subsection}{\arabic{chapter}.\arabic{section}.\arabic{subsection}. #1}
\addcontentsline{toc}{subsection}{\arabic{subsection}. #1}
}


\newcommand\Figure[4]{
% Принимает 4 аргумента - название файла изображения, ее размер в тексте, описание, лэйбл (псевдоним в формате "fig:name")
%
\refstepcounter{figure}
\begin{figure}[H] %- \usepackage {float} %[h]
\begin{center}
\fbox{
\includegraphics[width=#2]{#1}
}
\end{center}
\begin{center}
Рис.~\arabic{figure}. #3.
\end{center}
%\caption{#3}
\label{fig:#4}
\end{figure}
}


\newcommand\Table[3]{
% Принимает 3 аргумента --- лэйбл name(#1) (псевдоним в формате "tab:name"), ее описание(#2), содержание таблицы(#3)
% ВАЖНО!: от этого способа страдает нумерация описаний, можно использовать создание таблиц через googlesheet
%
\renewcommand{\arraystretch}{1.2} % Установка высоты строки таблицы по умолчанию, увеличенное на 0.2 пункта
% \refstepcounter{table}% увеличение счетчика таблиц
\begin{table}[Htpb]% "right Here", "top", "new page", "bottom"
\label{tab:#1}% лэйбл таблицы, для ссылок
\resizebox{\columnwidth}{!}{% сжимает очень широкие таблицы, чтобы вместить на страницу
#3% Содержимое таблицы
}
%
\caption{#2}% Описание стандартными средствами для используемого окружения (table)
% \captionof{table}{#2}% Описание стандартными средствами
% \captionof*{figure}{\flushleft \textsc\textbf{Рис. 1.}}% Описание стандартными средствами, как рисунка
%
%%> кастомное описание
% \begin{flushleft}% Кастомное описание
%     % \textsf{%
%         \textbf{%
%             \\[2mm]
%             #2% Описание к картинке
%         }%
%         % \\[8mm]% Отступ
%     % }%
% \end{flushleft}
%%< кастомное описание
\end{table}
\renewcommand{\arraystretch}{1} % возврат установка высоты строки таблицы по умолчанию на 1
}


\newcommand\CustomFigure[4]{ % multicols не умеют в table и figure, поэтому приходится извращаться % вставка таблицы с меткой рисунка
% Принимает 4 аргумента - название файла изображения, ее размер в тексте, описание, лэйбл (псевдоним в формате "fig:name")
%
\refstepcounter{figure}
\begin{figure}[ht]% "here", "top"
\begin{center}
\includegraphics[width=#2]{#1}
\end{center}
%
%\caption{#3}
\captionof{figure}{#3}% описание стандартными средствами
% \begin{center}
\begin{flushleft} % Кастомное описание
\textbf{%
#3% Текст описания
}
\end{flushleft}
% \end{center}
%
\label{fig:#4}% Лэйбл, для ссылок
\end{figure}
}


\newcommand\CustomTableFigure[3]{% multicols не умеют в table и figure, поэтому приходится извращаться % вставка таблицы с меткой рисунка
%
% Принимает 3 аргумента --- лэйбл name(#1) (псевдоним в формате "tab:name"), ее описание(#2), содержание таблицы(#3)
%
\begin{center}
\refstepcounter{figure}
\label{tab:#1}% лэйбл таблицы, для ссылок
\resizebox{\columnwidth}{!}{% сжимает очень широкие таблицы, чтобы вместить на страницу
#3% Содержание таблицы
}
%
\captionof{figure}{#2}% Описание стандартными средствами
% \captionof*{figure}{\flushleft \textsc\textbf{Рис. 1.}}% Описание стандартными средствами
%
\begin{flushleft}% Кастомное описание
% \textsf{%
\textbf{%
\\[2mm]
#2% Описание к картинке
}%
% \\[8mm]% Отступ
% }%
\end{flushleft}
\end{center}
}


\newcommand{\InkscapeFigure}[4]{% Вставки иллюстраций из Inkscape (pdf+latex)
%
% Принимает 4 параметра: #1 название файла, #2 описание, #3 лейбл #4 размер
%
% \begin{minipage}{#4}
\begin{figure}[htbp]
\centering
\def\svgwidth{#4}
\import{./figures/}{#1.pdf_tex}
\caption{#2}
\label{fig:#3}
\end{figure}
% \end{minipage}
}


\newcommand\Equation[3]{% Кастомное оформление выражений
%
% Принимает 3 аргумента --- лэйбл name (#1) (псевдоним в формате "tab:name"), его описание(#2), содержание выражения (#3)
%
\textbf{#2}% описание
\begin{equation}
#3% содержимое выражений
\label{eq:#1}% лэйбл
\end{equation}
}

%<<<<<<<<<<<<<<<<<<<<<<<<<<<< ДОПОЛНИТЕЛЬНЫЕ КОМАНДЫ <<<<<<<<<<<<<<<<<<<<<<<<<<
%<<<<<<<<<<<<<<<<<<<<<< ПРЕАМБУЛА <<<<<<<<<<<<<<<<<<<<<<<<<


%%%%%%%%%%%%%%%%%%% СОДЕРЖИМОЕ ОТЧЕТА %%%%%%%%%%%%%%%%%%%%%
%>>>>>>>>>>>>>>> ''''''''''''''''''''''' >>>>>>>>>>>>>>>>>>
\begin{document}


%>>>>>>>>>>>>>>>> ОПРЕДЕЛЕНИЕ НАЗВАНИЙ >>>>>>>>>>>>>>>>>>>>
% Переоформление некоторых стандартных названий
%\renewcommand{\chaptername}{Лабораторная работа}
    \renewcommand{\chaptername}{\lab\ \labnumber} % переименование глав
    \renewcommand{\contentsname}{Содержание} % переименование оглавления
%<<<<<<<<<<<<<<<< ОПРЕДЕЛЕНИЕ НАЗВАНИЙ <<<<<<<<<<<<<<<<<<<<
% \setlength{\itemsep}{0pt} % установка расстояния между строчками в списках можно использовать локально внутри списка списке
% \setlength{\parskip}{0pt} % 
% \setlength{\parsep}{0pt}  % 

%>>>>>>>>>>>>>>>>> ТИТУЛЬНАЯ СТРАНИЦА >>>>>>>>>>>>>>>>>>>>>
    \include{titlepage}
%<<<<<<<<<<<<<<<<< ТИТУЛЬНАЯ СТРАНИЦА <<<<<<<<<<<<<<<<<<<<<


%>>>>>>>>>>>>>>>>>>>>> СОДЕРЖАНИЕ >>>>>>>>>>>>>>>>>>>>>>>>>
% Содержание
    \tableofcontents
%<<<<<<<<<<<<<<<<<<<<< СОДЕРЖАНИЕ <<<<<<<<<<<<<<<<<<<<<<<<<


%%%%%%%%%%%%%%%%%%%%%%% КОД РАБОТЫ %%%%%%%%%%%%%%%%%%%%%%%%
%>>>>>>>>>>>>>>>>>>>'''''''''''''''''>>>>>>>>>>>>>>>>>>>>>
    \newpage
    % \Chapter{\lab\ \labnumber}{}{}

    \Section{Задание}

    \noindent
%    \textbf{
%    % Заглавное описание....:
%        Заголовок
%    }
%
%    \textit{
%    % Описание задания...
%        Описание
%    }

    \begin{enumerate}
        \setlength{\itemsep}{0pt} % Сокращение межстрочных расстояний
        \setlength{\parskip}{0pt}
        \setlength{\parsep}{0pt}
        \item Определить номер варианта как остаток деления на 132 своего
							идентификационного номера в ISU: например, 125598 / 132 = 16. В
							случае, если в обоих указанных днях недели нет занятий, то
							увеличить номер варианта на восемь. В случае, если занятий нет и в
							новом наборе дней, то продолжать увеличивать на восемь.
				\item  Изучить форму Бэкуса-Наура.
				\item Изучить основные принципы организации формальных грамматик.
				\item Изучить особенности языков разметки/форматов JSON, RON, HCL, YAML, TOML, INI, XML
				\item Понять устройство страницы с расписанием на примере расписания лектора: \url{https://itmo.ru/ru/schedule/3/125598/raspisanie_zanyatiy.htm}
				\item Исходя из структуры расписания конкретного дня, сформировать
							файл с расписанием в формате, указанном в задании в качестве
							исходного. При этом необходимо, чтобы хотя бы в одной из
							выбранных дней было не менее двух занятий (можно использовать
							своё персональное). В случае, если в данный день недели нет таких
							занятий, то увеличить номер варианта ещё на восемь.
        \item Обязательное задание (позволяет набрать до 50 процентов от
							максимального числа баллов БаРС за данную лабораторную).
							Написать программу на языке Python 3.x или любом другом, которая:
							\begin{itemize}
								\item осуществляет парсинг и конвертацию исходного файла в бинарный объект (=десериализацию);
								\item для решения задачи использует формальные грамматики; то есть
											ваш код должен уметь осуществлять парсинг и конвертацию
											любых данных, представленных в исходном формате, в данные,
											представленные в результирующем формате (как с готовыми
											библиотеками из дополнительного задания №2);
								\item не использовует готовые библиотеки, в том числе регулярные выражения в Python и библиотеки для загрузки файлов.
							\end{itemize}
        \item Дополнительное задание №1 (позволяет набрать +15 процентов от
							максимального числа баллов БаРС за данную лабораторную).
							Написать программу на языке Python 3.x или любом другом, которая:
							\begin{itemize}
								\item осуществляет парсинг и конвертацию бинароного объекта,
											полученного в обязательном задании, в новый формат
											(=сериализацию);
								\item для решения задачи использует формальные грамматики;
								\item не использовует готовые библиотеки, в том числе регулярные выражения в Python и библиотеки для загрузки файлов.
							\end{itemize}
				\item Дополнительное задание №2 (позволяет набрать +10 процентов от
							максимального числа баллов БаРС за данную лабораторную).
							\begin{itemize}
								\item  Найти готовые библиотеки, осуществляющие аналогичный
											парсинг и конвертацию файлов (десериализацию и
											сериализацию).
								\item Переписать исходный код и код из дополнительного задания
											№1, применив найденные библиотеки. Регулярные
											выражения также нельзя использовать.
								\item Сравнить полученные результаты и объяснить их сходство/различие. Объяснение должно быть отражено в отчёте.
							\end{itemize}
				\item Дополнительное задание №3 (позволяет набрать +20 процентов от
							максимального числа баллов БаРС за данную лабораторную).
							Переписать код из дополнительного задания №1, чтобы серализация
							происводилась в XML файл.
				\item Дополнительное задание №4 (позволяет набрать +5 процентов от максимального числа баллов БаРС за данную лабораторную).
				\begin{itemize}
					\item Используя свою исходную программу из обязательного
							задания и программы из дополнительных заданий, сравнить
							стократное время выполнения парсинга + конвертации в
							цикле.
					\item Проанализировать полученные результаты и объяснить их
								сходство/различие. Объяснение должно быть отражено в
								отчёте
				\end{itemize}
				\item Проверить, что все пункты задания выполнены и выполнены верно
				\item Написать отчёт о проделанной работе.
				\item Подготовиться к устным вопросам на защите.
    \end{enumerate}


    \newpage
    \Section{Основные этапы вычислений}
		\Subsection{Обязательное задание}
		Так как мой номер ISU - 501993, то итоговый вариант 501993 \% 132 = 129 (129 вариант).
		Необходимо было выполнить следующие преобразования:
		\begin{itemize}
				\item Перевести данные из файла в формате INI в файл в формате RON.
				\item В качестве дней недели взять понедельник и субботу
		\end{itemize}

		Код, являющийся точкой входа в программу для решения как обязательного, так и дополнительных заданий, находиться в файле \ref{lst:main}:

		\lstinputlisting[caption={main.py},label={lst:main},language=Python]{../src/main.py}

		Разберем детально решение обязательного задания. 
		\begin{itemize}
			\item для парсинга и конвертацию исходного файла в бинарный объект был создан класс HandWrittenConvertor в файле \ref{lst:hand}. 
			\item в нем был создан метод read\_file, осуществляющий чтение исходного файла и удаление лишних символов табуляции. 
			\item также в нем был создан метод deserialize, осуществляющий десериализацию исходного файла в объект класса Wrapper, а затем в бинарный файл при помощи класса BinarySerializer \ref{lst:formal}. 
			\item класс Wrapper определяет бинарный объект, содержащий секциии исходного файла (класс Section), которые в свою очередь состоят из полей разного типа (NestedField - для вложенностей, ValueField - поле ключ+значения, и CommentField - комментарий) 
		\end{itemize}
		
		\lstinputlisting[caption={hand\_written\_convertor.py},label={lst:hand},language=Python]{../src/lib/hand_written_convertor.py}
		
		\lstinputlisting[caption={formal.py},label={lst:formal},language=Python]{../src/lib/formal.py}

   
    \newpage
    \Subsection{Дополнительные задание 1}
		Разберем детально решение дополнительного задания 1.
		\begin{itemize}
			\item для конвертацию бинароного объекта, полученного в обязательном задании, в формат RON в классе HandWrittenConvertor был создан метод serialize \ref{lst:hand}
			\item данный метод проходит в цикле по каждой секции бинарного объекта, определяет тип поля, и в зависимости от него добавялет соотвествующий элемент RON
		\end{itemize}

		Результат: \href{run:../src/output/schedule_hand_written.ron}{../src/output/schedule\_hand\_written.ron}

		\Subsection{Дополнительные задание 2}
		Разберем детально решение дополнительного задания 2.
		\begin{itemize}
			\item для сериализации и десериализации исходных данных был создан класс AdvancedConvertor в файле \ref{lst:auto}
			\item данный класс содержит методы методы read\_file, deserialize и serialize аналочичные HandWrittenConvertor, но написанные при помощи библиотек "configparser" для RON и "xml" для XML
		\end{itemize}

		Результат ручного перевода: \href{run:../src/output/schedule_hand_written.ron}{../src/output/schedule\_hand\_written.ron} \\

		Результат с использованием библиотек: \href{run:../src/output/schedule_advanced.ron}{../src/output/schedule\_advenced.ron} \\

		Результаты, полученные при помощи самописного парсера и парсера с использованием готовых бибилиотек имеют некторые сходства и раличия. \\
		Сходства состоят в том, что оба класса одинаково хорошо справляются с десериализацией исходного файла в бинарный объект. \\
		Из различий можно выделить то, что самописный парсер добавляет необязательное имя структуры Shedule в начале RON файла (\ref{fig:hand}), в то время как библиотека configparser этого не делает (\ref{fig:auto}). 
		Также самописный парсер позволяет обрабатывать вложенность в INI файле (разделение точкой), а библиотека configparser этого не делает. \\
		Кроме того, самописный парсер умеет обрабатывать строки с комментариями, а configparser нет. \\
		Другой особенностью является правильное выделение строк двойными ковычками. Библиотека ставит одинарные ковычки, хотя это неверно с точки зрения синтаксиса языка разметки. \\

		\begin{figure}[H]
			\centering
			\includegraphics[width=\textwidth/3*2]{example_hand_written_ron.png}
			\caption{ручной перевод}
			\label{fig:hand}
    \end{figure}

		\begin{figure}[H]
			\centering
			\includegraphics[width=\textwidth/3*2]{example_advanced_ron.png}
			\caption{перевод через библиотеку}
			\label{fig:auto}
    \end{figure}

		\lstinputlisting[caption={advanced\_convertor.py},label={lst:auto},language=Python]{../src/lib/advanced_convertor.py}


    \Subsection{Дополнительные задание 3}
		Разберем детально решение дополнительного задания 3.
		\begin{itemize}
			\item для конвертацию бинароного объекта, полученного в обязательном задании, в формат XML в классе HandWrittenConvertor был изменен метод serialize \ref{lst:hand}
			\item теперь данный метод принимает аргумент "format", значение которого определяет перевод в нужный формат
			\item логика сериализации в XML практически не отличается от таковой в случае RON, за исключением видоизмененных полей файла в соотвествии с форматом данных.
		\end{itemize}

		Результат: \href{run:../src/output/schedule_hand_written.xml}{../src/output/schedule\_hand\_written.ron}

		\Subsection{Дополнительные задание 4}
		Разберем детально решение дополнительного задания 4.
		\begin{itemize}
			\item для проведения тестов был создан класс TestRunner \ref{lst:test}
			\item данный класс содержит методы run\_handwritten\_test и run\_advanced\_test, которые осуществляют 100 итераций перевода при помощи рукописного парсера и парсера с использованием библиотек соотвественно
		\end{itemize}

		Результаты 100 итераций таковы:
		\begin{itemize}
			\item для рукописного парсера - затрачено времени 88.102552 мс, 0.881025 мс на 1 итерацию
			\item для парсера с использованием библиотек - затрачено времени 120.904266 мс, 1.839042 мс на 1 итерацию
		\end{itemize}

		Таким образом, парсер с использованием библиотек выполняет перевод приблизительно на 36\% медленнее. Это может быть связано с тем,что мой парсер сделан под узкую задачу, без дополнительной универсальной логики и проверок, характерных для библиотек, что уменьшает накладные расходы. Учитываются только нужные структуры и синтаксис, что ускоряет обработку и парсинг. \\

		\lstinputlisting[caption={test.py},label={lst:test},language=Python]{../src/lib/test.py}

    \newpage

    \Section{Вывод}
        В процессе выполнения лабораторной работы по информатике я ознакомился с формой Бэкуса-Наура, изучил основные принципы организации формальных грамматик \cite{1}, а также ознакомился и научился работать с незнакомыми мне раннее языками разметки, INI, XML и RON \cite{2}.
    \newpage
%<<<<<<<<<<<<<<<<<<<<<< КОД РАБОТЫ <<<<<<<<<<<<<<<<<<<<<<<<


%>>>>>>>>>>>>>>>> СПИСОК ЛИТЕРАТУРЫ >>>>>>>>>>>>>>>>>>>>>>>
    % \include{biblist}  % Для соответсвия гост, придется доработать. Нужен файл .bib
%<<<<<<<<<<<<<<<<<<<< СПИСОК ЛИТЕРАТУРЫ <<<<<<<<<<<<<<<<<<<
   \makeatletter
    \renewenvironment{thebibliography}[1]
    {
  
    \@mkboth{Литература}{Литература}
    \list{\@biblabel{\@arabic\c@enumiv}}{
        \settowidth\labelwidth{\@biblabel{#1}}
        \leftmargin\labelwidth
        \advance\leftmargin\labelsep
        \@openbib@code
        \usecounter{enumiv}
        \let\p@enumiv\@empty
        \renewcommand\theenumiv{\@arabic\c@enumiv}}
    \sloppy
    \clubpenalty4000
    \@clubpenalty \clubpenalty
    \widowpenalty4000
    \sfcode`\.\@m}
    {\def\@noitemerr
        {\@latex@warning{Пустой список литературы}}
    \endlist}
    \makeatother

    \Section{Литература} % Заголовок без разрыва страницы
    \begin{thebibliography}{}
        \bibitem{1}Орлов С. А., Цилькер Б. Я. Организация ЭВМ и систем: Учебник для вузов. 2-е изд. – СПб.: Питер, 2011. – 688 с.: ил., Приложение А «Арифметические основы вычислительных машин». URL: \url{https://bit.ly/4dzgo3u} (Дата обращения: 10.09.25) \\
        \bibitem{2}Алексеев Е.Г., Богатырев С.Д. Информатика. Мультимедийный электронный учебник. Раздел 3 «Системы счисления». URL: \url{http://inf.e-alekseev.ru/text/Schisl.html} (Дата обращения: 10.09.25)
    \end{thebibliography}
    \end{document}
%<<<<<<<<<<<<<<<< ,,,,,,,,,,,,,,,,,,,,,,, <<<<<<<<<<<<<<<<<
%<<<<<<<<<<<<<<<<<<< СОДЕРЖИМОЕ ОТЧЕТА <<<<<<<<<<<<<<<<<<<<